---
title: 跨域
date: 2018-08-29 11:58:34
tags: 跨域
---

# CORS跨域（Cross-Origin Eesource Sharing 跨域资源共享）
- html5规范定义的如何跨域访问资源
- **报错**
  -  No 'Access-Control-Allow-Origin' header is present on the requested resource
- **原因**
  - 请求的url的**协议，域名，端口**，三者任意一个当前页面地址不同即为跨域
  - 根本原因浏览器的安全措施：**同源策略**-域名、端口、协议
- **隐患**
  - CSRF（Cross-site request forgery）跨站请求伪造
    - 用户通过浏览器，访问正常网站A（例如某银行），通过用户的身份认证（比如用户名/密码）成功A网站。
    - 网站A产生Cookie信息并返回给用户的浏览器； 
    - 用户保持A网站页面登录状态，在同一浏览器中，打开一个新的TAB页访问恶意网站B；
    - 网站B接收到用户请求后，返回一些攻击性代码，请求A网站的资源（例如转账请求）；
    - 浏览器执行恶意代码，在用户不知情的情况下携带Cookie信息，向网站A发出请求。
    - 网站A根据用户的Cookie信息核实用户身份（此时用户在A网站是已登录状态），A网站会处理该请求，导致来自网站B的恶意请求被执行。
- 实现方法
  - [CORS跨域请求](https://blog.csdn.net/u014344668/article/details/54948546)
# vue proxyTable-接口跨域请求调试（代理）
- vue-route提供的结局跨域的方法
- 文件路径
  - config-》index.js->dev(对象)->proxyTable(属性)=》`'/apis': {
            // 测试环境
            target: 'https://goods.footer.com',  // 接口域名
            changeOrigin: true,  //是否跨域
            pathRewrite: {
                '^/apis': ''   //需要rewrite重写的,
            }              
        }
    }`
# JSONP
- 只能使用GET请求，并且要求返回JavaScript。利用浏览器允许跨域引用JavaScript资源
- JSONP通常以函数调用的形式返回
- **将需要获取的数据，放在请求到的JavaScript返回函数中，作为参数传回**








- 请求的方式
  - GET、POST、HEAD、PUT、DELETE